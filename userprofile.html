<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco Finds User Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="bg-white rounded-3xl shadow-xl max-w-2xl w-full p-8 md:p-12 text-center">
        <!-- Logo -->
        <div class="flex justify-center mb-6">
            <img src="https://placehold.co/100x100/10B981/ffffff?text=Eco+Finds" alt="Eco Finds Logo" class="rounded-full shadow-lg">
        </div>

        <!-- User Profile Section -->
        <div class="space-y-6">
            <!-- Profile Picture and Name -->
            <div id="profile-display">
                <div class="flex justify-center mb-4">
                    <img id="user-avatar" src="https://placehold.co/128x128/9CA3AF/ffffff?text=User" alt="User Profile Picture" class="rounded-full h-32 w-32 object-cover border-4 border-emerald-300 shadow-md">
                </div>
                <h1 id="user-name" class="text-4xl font-bold text-gray-800">Jane Doe</h1>
                <p id="user-email" class="text-xl text-gray-600 font-medium">jane.doe@example.com</p>
            </div>

            <!-- Profile Edit Form (Hidden by default) -->
            <div id="profile-edit" class="hidden space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input type="text" id="edit-first-name" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-center" placeholder="First Name">
                    <input type="text" id="edit-last-name" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-center" placeholder="Last Name">
                </div>
                <input type="email" id="edit-email" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-center" placeholder="Email Address">
                <input type="text" id="edit-avatar" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-center" placeholder="Profile Picture URL">
            </div>
            
            <!-- Edit Button -->
            <button id="edit-button" class="mt-8 px-8 py-3 bg-emerald-600 text-white rounded-full font-bold shadow-lg hover:bg-emerald-700 transition-colors duration-200">
                Edit Profile
            </button>
        </div>

        <!-- Custom Alert Message Box -->
        <div id="alert-box" class="hidden fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-50 p-4">
            <div class="bg-white rounded-xl p-8 max-w-sm w-full text-center shadow-2xl">
                <h3 id="alert-title" class="text-2xl font-bold text-emerald-600 mb-4"></h3>
                <p id="alert-message" class="text-gray-700 mb-6"></p>
                <button id="alert-close" class="px-6 py-2 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors">Close</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const profileDisplay = document.getElementById('profile-display');
            const profileEdit = document.getElementById('profile-edit');
            const editButton = document.getElementById('edit-button');
            const userName = document.getElementById('user-name');
            const userEmail = document.getElementById('user-email');
            const userAvatar = document.getElementById('user-avatar');
            const editFirstName = document.getElementById('edit-first-name');
            const editLastName = document.getElementById('edit-last-name');
            const editEmail = document.getElementById('edit-email');
            const editAvatar = document.getElementById('edit-avatar');

            // Custom alert box functionality
            const alertBox = document.getElementById('alert-box');
            const alertTitle = document.getElementById('alert-title');
            const alertMessage = document.getElementById('alert-message');
            const alertCloseBtn = document.getElementById('alert-close');

            function showAlert(title, message) {
                alertTitle.textContent = title;
                alertMessage.textContent = message;
                alertBox.classList.remove('hidden');
            }

            alertCloseBtn.addEventListener('click', () => {
                alertBox.classList.add('hidden');
            });

            // Initial user data (can be replaced with data from a backend)
            let currentUser = {
                firstName: 'Jane',
                lastName: 'Doe',
                email: 'jane.doe@example.com',
                avatar: 'https://placehold.co/128x128/9CA3AF/ffffff?text=User'
            };

            // Set initial values
            userName.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
            userEmail.textContent = currentUser.email;

            let isEditing = false;

            editButton.addEventListener('click', () => {
                isEditing = !isEditing;

                if (isEditing) {
                    // Switch to edit mode
                    profileDisplay.classList.add('hidden');
                    profileEdit.classList.remove('hidden');
                    editButton.textContent = 'Save Profile';
                    editButton.classList.remove('bg-emerald-600', 'hover:bg-emerald-700');
                    editButton.classList.add('bg-blue-600', 'hover:bg-blue-700');

                    // Populate form fields with current data
                    editFirstName.value = currentUser.firstName;
                    editLastName.value = currentUser.lastName;
                    editEmail.value = currentUser.email;
                    editAvatar.value = currentUser.avatar;
                } else {
                    // Save changes and switch to display mode
                    const newFirstName = editFirstName.value.trim();
                    const newLastName = editLastName.value.trim();
                    const newEmail = editEmail.value.trim();
                    const newAvatar = editAvatar.value.trim();

                    if (!newFirstName || !newLastName || !newEmail) {
                        isEditing = true; // Stay in edit mode if fields are empty
                        showAlert('Error', 'First Name, Last Name, and Email cannot be empty.');
                        return;
                    }

                    currentUser.firstName = newFirstName;
                    currentUser.lastName = newLastName;
                    currentUser.email = newEmail;
                    if (newAvatar) {
                        currentUser.avatar = newAvatar;
                    }

                    userName.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
                    userEmail.textContent = currentUser.email;
                    userAvatar.src = currentUser.avatar;

                    profileDisplay.classList.remove('hidden');
                    profileEdit.classList.add('hidden');
                    editButton.textContent = 'Edit Profile';
                    editButton.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    editButton.classList.add('bg-emerald-600', 'hover:bg-emerald-700');

                    showAlert('Profile Updated', 'Your profile information has been saved.');
                }
            });
        });
    </script>
</body>
</html>
